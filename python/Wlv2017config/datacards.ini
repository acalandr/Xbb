[LimitGeneral]
#!! --------------------------------------
##!! Binning:
##!! --------------------------------------


;IMPORTANT: this has to be exacly the same as the variable in vhbbPlotDef for the pre/postfit macro to work
;Ragne for mjj datacards
Mass = H_mass
MassRange = 17,0,255
MassRangeVV = 34,0, 255

;CR
bTagVar = <!General|Jet_btag!>[<!General|btagidx1!>] 
bTagVarRange = 20,-1,1

BDTrange_BDT = 15,-1,1
BDTrange_DNN = 15,0,1
BDTrange = <!LimitGeneral|BDTrange_<!General|MVAtype!>!>

Mass        = H_mass

;!! --------------------------------------
;!! Systematics
;!! --------------------------------------

remove_systematics = True

;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;FOR CR
;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*

sys_cr = [
    'jer',
    'jerReg',
    'jesAbsoluteStat',
    'jesAbsoluteScale',
    'jesAbsoluteFlavMap',
    'jesAbsoluteMPFBias',
    'jesFragmentation',
    'jesSinglePionECAL',
    'jesSinglePionHCAL',
    'jesFlavorQCD',
    'jesRelativeJEREC1',
    'jesRelativeJEREC2',
    'jesRelativeJERHF',
    'jesRelativePtBB',
    'jesRelativePtEC1',
    'jesRelativePtEC2',
    'jesRelativePtHF',
    'jesRelativeBal',
    'jesRelativeFSR',
    'jesRelativeStatFSR',
    'jesRelativeStatEC',
    'jesRelativeStatHF',
    'jesPileUpDataMC',
    'jesPileUpPtRef',
    'jesPileUpPtBB',
    'jesPileUpPtEC1',
    'jesPileUpPtEC2',
    'jesPileUpPtHF',
    'jesPileUpMuZero',
    'jesPileUpEnvelope',
    'unclustEn',
    ]


sys_BDT = <!LimitGeneral|sys_cr!>
sys_Mjj = <!LimitGeneral|sys_cr!>


weightF_sys = [
    'PileUp',
; pT(W) fit reweighting
    'CMS_vhbb_topptreweighting_13TeV',
    'FitCorrection',
    'FitCorrectionHF',
; Lepton efficiencies
    'CMS_vhbb_eff_e_trigger_Wlv_13TeV',
    'CMS_vhbb_eff_e_MVAID_Wlv_13TeV',
    'CMS_vhbb_eff_m_trigger_Wlv_13TeV',
    'CMS_vhbb_eff_m_MVAID_Wlv_13TeV',
    'CMS_vhbb_eff_m_ISO_Wlv_13TeV',
; LO to NLO shape reweighting
    'CMS_vhbb_vjetnlodetajjrw_13TeV',
; 2017 version
    'CMS_vhbb_vjetnlovptrw_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_p1_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet0_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet0_p1_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet1_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet1_p1_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet2_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet2_p1_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet3_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet3_p1_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet4_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet4_p1_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet5_p0_13TeV',
    'CMS_vhbb_vjetnlovptrw_naddjet5_p1_13TeV',
; add jet activity
    'CMS_vhbb_ttbar_nAddJets',
; Jet PU ID
    'CMS_vhbb_jetPUID',
; Prefire correction
    'CMS_vhbb_PrefireWeight_13TeV',
; scales
    'CMS_LHE_weights_scale_muR_ZH',
    'CMS_LHE_weights_scale_muR_WH',
    'CMS_LHE_weights_scale_muR_ggZH',
    'CMS_LHE_weights_scale_muR_TT',
    'CMS_LHE_weights_scale_muR_Zj0b',
    'CMS_LHE_weights_scale_muR_Zj1b',
    'CMS_LHE_weights_scale_muR_Zj2b',
    'CMS_LHE_weights_scale_muR_Wj0b',
    'CMS_LHE_weights_scale_muR_Wj1b',
    'CMS_LHE_weights_scale_muR_Wj2b',
#    'CMS_LHE_weights_scale_muR_VVHF',
#    'CMS_LHE_weights_scale_muR_VVLF',
    'CMS_LHE_weights_scale_muF_ZH',
    'CMS_LHE_weights_scale_muF_WH',
    'CMS_LHE_weights_scale_muF_ggZH',
    'CMS_LHE_weights_scale_muF_TT',
    'CMS_LHE_weights_scale_muF_Zj0b',
    'CMS_LHE_weights_scale_muF_Zj1b',
    'CMS_LHE_weights_scale_muF_Zj2b',
    'CMS_LHE_weights_scale_muF_Wj0b',
    'CMS_LHE_weights_scale_muF_Wj1b',
    'CMS_LHE_weights_scale_muF_Wj2b',
#    'CMS_LHE_weights_scale_muF_VVHF',
#    'CMS_LHE_weights_scale_muF_VVLF',
; EWK signal correction
    'CMS_vhbb_signal_ewk_13TeV',
    'CMS_vhbb_VJets_ewk_13TeV',
    'CMS_vhbb_Vjets_pdfwgt_0lep',
    'CMS_vhbb_Vjets_pdfwgt_1lep',
    'CMS_vhbb_Vjets_pdfwgt_2lep',
;
    'btagWeight_jes_pt0_eta1',
    'btagWeight_jes_pt0_eta2',
    'btagWeight_jes_pt0_eta3',
    'btagWeight_jes_pt1_eta1',
    'btagWeight_jes_pt1_eta2',
    'btagWeight_jes_pt1_eta3',
    'btagWeight_jes_pt2_eta1',
    'btagWeight_jes_pt2_eta2',
    'btagWeight_jes_pt2_eta3',
    'btagWeight_jes_pt3_eta1',
    'btagWeight_jes_pt3_eta2',
    'btagWeight_jes_pt3_eta3',
    'btagWeight_jes_pt4_eta1',
    'btagWeight_jes_pt4_eta2',
    'btagWeight_jes_pt4_eta3',
;
    'btagWeight_lf_pt0_eta1',
    'btagWeight_lf_pt0_eta2',
    'btagWeight_lf_pt0_eta3',
    'btagWeight_lf_pt1_eta1',
    'btagWeight_lf_pt1_eta2',
    'btagWeight_lf_pt1_eta3',
    'btagWeight_lf_pt2_eta1',
    'btagWeight_lf_pt2_eta2',
    'btagWeight_lf_pt2_eta3',
    'btagWeight_lf_pt3_eta1',
    'btagWeight_lf_pt3_eta2',
    'btagWeight_lf_pt3_eta3',
    'btagWeight_lf_pt4_eta1',
    'btagWeight_lf_pt4_eta2',
    'btagWeight_lf_pt4_eta3',
;
    'btagWeight_hf_pt0_eta1',
    'btagWeight_hf_pt0_eta2',
    'btagWeight_hf_pt0_eta3',
    'btagWeight_hf_pt1_eta1',
    'btagWeight_hf_pt1_eta2',
    'btagWeight_hf_pt1_eta3',
    'btagWeight_hf_pt2_eta1',
    'btagWeight_hf_pt2_eta2',
    'btagWeight_hf_pt2_eta3',
    'btagWeight_hf_pt3_eta1',
    'btagWeight_hf_pt3_eta2',
    'btagWeight_hf_pt3_eta3',
    'btagWeight_hf_pt4_eta1',
    'btagWeight_hf_pt4_eta2',
    'btagWeight_hf_pt4_eta3',
;
    'btagWeight_lfstats1_pt0_eta1',
    'btagWeight_lfstats1_pt0_eta2',
    'btagWeight_lfstats1_pt0_eta3',
    'btagWeight_lfstats1_pt1_eta1',
    'btagWeight_lfstats1_pt1_eta2',
    'btagWeight_lfstats1_pt1_eta3',
    'btagWeight_lfstats1_pt2_eta1',
    'btagWeight_lfstats1_pt2_eta2',
    'btagWeight_lfstats1_pt2_eta3',
    'btagWeight_lfstats1_pt3_eta1',
    'btagWeight_lfstats1_pt3_eta2',
    'btagWeight_lfstats1_pt3_eta3',
    'btagWeight_lfstats1_pt4_eta1',
    'btagWeight_lfstats1_pt4_eta2',
    'btagWeight_lfstats1_pt4_eta3',
;
    'btagWeight_lfstats2_pt0_eta1',
    'btagWeight_lfstats2_pt0_eta2',
    'btagWeight_lfstats2_pt0_eta3',
    'btagWeight_lfstats2_pt1_eta1',
    'btagWeight_lfstats2_pt1_eta2',
    'btagWeight_lfstats2_pt1_eta3',
    'btagWeight_lfstats2_pt2_eta1',
    'btagWeight_lfstats2_pt2_eta2',
    'btagWeight_lfstats2_pt2_eta3',
    'btagWeight_lfstats2_pt3_eta1',
    'btagWeight_lfstats2_pt3_eta2',
    'btagWeight_lfstats2_pt3_eta3',
    'btagWeight_lfstats2_pt4_eta1',
    'btagWeight_lfstats2_pt4_eta2',
    'btagWeight_lfstats2_pt4_eta3',
;
    'btagWeight_hfstats1_pt0_eta1',
    'btagWeight_hfstats1_pt0_eta2',
    'btagWeight_hfstats1_pt0_eta3',
    'btagWeight_hfstats1_pt1_eta1',
    'btagWeight_hfstats1_pt1_eta2',
    'btagWeight_hfstats1_pt1_eta3',
    'btagWeight_hfstats1_pt2_eta1',
    'btagWeight_hfstats1_pt2_eta2',
    'btagWeight_hfstats1_pt2_eta3',
    'btagWeight_hfstats1_pt3_eta1',
    'btagWeight_hfstats1_pt3_eta2',
    'btagWeight_hfstats1_pt3_eta3',
    'btagWeight_hfstats1_pt4_eta1',
    'btagWeight_hfstats1_pt4_eta2',
    'btagWeight_hfstats1_pt4_eta3',
;
    'btagWeight_hfstats2_pt0_eta1',
    'btagWeight_hfstats2_pt0_eta2',
    'btagWeight_hfstats2_pt0_eta3',
    'btagWeight_hfstats2_pt1_eta1',
    'btagWeight_hfstats2_pt1_eta2',
    'btagWeight_hfstats2_pt1_eta3',
    'btagWeight_hfstats2_pt2_eta1',
    'btagWeight_hfstats2_pt2_eta2',
    'btagWeight_hfstats2_pt2_eta3',
    'btagWeight_hfstats2_pt3_eta1',
    'btagWeight_hfstats2_pt3_eta2',
    'btagWeight_hfstats2_pt3_eta3',
    'btagWeight_hfstats2_pt4_eta1',
    'btagWeight_hfstats2_pt4_eta2',
    'btagWeight_hfstats2_pt4_eta3',
;
    'btagWeight_cferr1_pt0_eta1',
    'btagWeight_cferr1_pt0_eta2',
    'btagWeight_cferr1_pt0_eta3',
    'btagWeight_cferr1_pt1_eta1',
    'btagWeight_cferr1_pt1_eta2',
    'btagWeight_cferr1_pt1_eta3',
    'btagWeight_cferr1_pt2_eta1',
    'btagWeight_cferr1_pt2_eta2',
    'btagWeight_cferr1_pt2_eta3',
    'btagWeight_cferr1_pt3_eta1',
    'btagWeight_cferr1_pt3_eta2',
    'btagWeight_cferr1_pt3_eta3',
    'btagWeight_cferr1_pt4_eta1',
    'btagWeight_cferr1_pt4_eta2',
    'btagWeight_cferr1_pt4_eta3',
;
    'btagWeight_cferr2_pt0_eta1',
    'btagWeight_cferr2_pt0_eta2',
    'btagWeight_cferr2_pt0_eta3',
    'btagWeight_cferr2_pt1_eta1',
    'btagWeight_cferr2_pt1_eta2',
    'btagWeight_cferr2_pt1_eta3',
    'btagWeight_cferr2_pt2_eta1',
    'btagWeight_cferr2_pt2_eta2',
    'btagWeight_cferr2_pt2_eta3',
    'btagWeight_cferr2_pt3_eta1',
    'btagWeight_cferr2_pt3_eta2',
    'btagWeight_cferr2_pt3_eta3',
    'btagWeight_cferr2_pt4_eta1',
    'btagWeight_cferr2_pt4_eta2',
    'btagWeight_cferr2_pt4_eta3',
    ]

rebin_active = True
;rebin_active = False 

;!! --------------------------------------
;#!! Samples
;#!! --------------------------------------
;#!! Datacard samples setup (1st Signal, afterwards BKG)

;;VH
;setup: ['ZH', 'WH', 'ggZH', 'VVHF', 'VVLF', 'ZJets_0b', 'ZJets_1b', 'ZJets_2b', 'WJets_0b', 'WJets_1b', 'WJets_2b', 'TT', 'ST']
;setupSignals: ['ZH', 'WH', 'ggZH']

; STXS
setupSignals     = ['ZH_lep_PTV_0_75_hbb','ZH_lep_PTV_75_150_hbb','ZH_lep_PTV_150_250_0J_hbb','ZH_lep_PTV_150_250_GE1J_hbb','ZH_lep_PTV_GT250_hbb','WH_lep_PTV_0_75_hbb','WH_lep_PTV_75_150_hbb','WH_lep_PTV_150_250_0J_hbb','WH_lep_PTV_150_250_GE1J_hbb','WH_lep_PTV_GT250_hbb','ggZH_lep_PTV_0_75_hbb','ggZH_lep_PTV_75_150_hbb','ggZH_lep_PTV_150_250_0J_hbb','ggZH_lep_PTV_150_250_GE1J_hbb','ggZH_lep_PTV_GT250_hbb']
setupBackgrounds = ['ZJets_0b', 'ZJets_1b', 'ZJets_2b', 'WJets_0b', 'WJets_1b', 'WJets_2b','VVHF', 'VVLF', 'TT', 'ST']
setup            = <!.|setupSignals!> + <!.|setupBackgrounds!>


#setup_VV: ['VVHF', 'VVLF', 'ZJets_0b', 'ZJets_1b', 'ZJets_2b', 'WJets_0b', 'WJets_1b', 'WJets_2b', 'ZH', 'WH', 'TT', 'ST']
setup_VV: ['VVHF', 'VVLF', 'ZJets_0b', 'ZJets_1b', 'ZJets_2b', 'WJets_0b', 'WJets_1b', 'WJets_2b', 'TT', 'ST', 'WH', 'ZH']
setupSignals_VV = ['VVHF']

setup_NoSTXS = ['ZH', 'WH', 'ggZH', 'VVHF', 'VVLF', 'ZJets_0b', 'ZJets_1b', 'ZJets_2b', 'WJets_0b', 'WJets_1b', 'WJets_2b', 'TT', 'ST']

#Group: <!Plot_general|Group!>
Group: {}

#!! --------------------------------------
#!! Naming
#!! --------------------------------------
#!! naming of processes in the DC

Dict = <!VHbbCommon|Dict!>
systematicsnaming = <!VHbbCommon|systematicsnaming!>


removeWeightSystematics = {}

#List = Limit_Wen_TT,Limit_Wun_TT,Limit_Wen_Wlight,Limit_Wun_Wlight,Limit_Wen_Signal,Limit_Wun_Signal,Limit_Wen_Wbb,Limit_Wun_Wbb
List = ttbar_med_Wen,ttbar_med_Wmn,Wlf_med_Wen,Wlf_med_Wmn,Whf_med_Wen,Whf_med_Wmn,SR_med_Wen,SR_med_Wmn,ttbar_high_Wen,ttbar_high_Wmn,Wlf_high_Wen,Wlf_high_Wmn,Whf_high_Wen,Whf_high_Wmn,SR_high_Wen,SR_high_Wmn 

# diboson list, use with: --set='LimitGeneral.List=<!LimitGeneral|ListVV!>'
#ListVV = Limit_Wen_Signal_VV,Limit_Wun_Signal_VV,Limit_Wen_Wbb_VV,Limit_Wun_Wbb_VV
ListVV       = ttbar_medhigh_Wen,ttbar_medhigh_Wmn,Wlf_medhigh_Wen,Wlf_medhigh_Wmn,VV_Whf_medhigh_Wen,VV_Whf_medhigh_Wmn,VV_SR_medhigh_Wen,VV_SR_medhigh_Wmn
ListVH       = ttbar_medhigh_Wen,ttbar_medhigh_Wmn,Wlf_medhigh_Wen,Wlf_medhigh_Wmn,Whf_medhigh_Wen,Whf_medhigh_Wmn,SR_medhigh_Wen,SR_medhigh_Wmn
ListVHLegacy = ttbar_med_Wen,ttbar_med_Wmn,Wlf_med_Wen,Wlf_med_Wmn,Whf_med_Wen,Whf_med_Wmn,SR_med_Wen,SR_med_Wmn,ttbar_high_Wen,ttbar_high_Wmn,Wlf_high_Wen,Wlf_high_Wmn,Whf_high_Wen,Whf_high_Wmn,SR_high_Wen,SR_high_Wmn
ListMjj      = ttbar_medhigh_Wen,ttbar_medhigh_Wmn,Wlf_medhigh_Wen,Wlf_medhigh_Wmn,Whf_medhigh_Wen,Whf_medhigh_Wmn,Mjj_SR_medhigh_Wen_0,Mjj_SR_medhigh_Wen_1,Mjj_SR_medhigh_Wen_2,Mjj_SR_medhigh_Wen_3,Mjj_SR_medhigh_Wmn_0,Mjj_SR_medhigh_Wmn_1,Mjj_SR_medhigh_Wmn_2,Mjj_SR_medhigh_Wmn_3
ListMulti    = <!Multi|List!>

[Multi]
List        = Multi_medhigh_Wen_SIG,Multi_medhigh_Wen_BKG,Multi_medhigh_Wmn_SIG,Multi_medhigh_Wmn_BKG

# V1: same DNN for e/mu
#Wen         = <!Multi_medhigh_Wln|branchName!>.Nominal
#Wmn         = <!Multi_medhigh_Wln|branchName!>.Nominal

# V2: separate DNN (as in standard analysis)
Wen         = <!Multi_medhigh_Wen|branchName!>.Nominal
Wmn         = <!Multi_medhigh_Wmn|branchName!>.Nominal

# 5 bins per CR
#binsWenCR   = [0.000000, 0.425571, 0.493475, 0.569818, 0.656196, 1.000000, 1.307590, 1.357202, 1.414837, 1.499676, 2.000000, 2.362238, 2.428416, 2.508055, 2.621914, 3.000000, 3.305097, 3.347767, 3.396143, 3.448415, 4.000000, 4.399889, 4.471286, 4.544918, 4.626827, 5.000000, 5.347481, 5.401111, 5.457687, 5.556033, 6.000000, 6.369312, 6.445823, 6.531469, 6.640629, 7.000000]
#binsWmnCR   = [0.000000, 0.435691, 0.512470, 0.594290, 0.682749, 1.000000, 1.312885, 1.360469, 1.415718, 1.489752, 2.000000, 2.368972, 2.438653, 2.525137, 2.638525, 3.000000, 3.309643, 3.350060, 3.399927, 3.466281, 4.000000, 4.404389, 4.480021, 4.559332, 4.649861, 5.000000, 5.387844, 5.451225, 5.521786, 5.616857, 6.000000, 6.373498, 6.449816, 6.539956, 6.649892, 7.000000]

# 5 bins per CR flat
#binsWenCR   = [0.000000, 0.327867, 0.396074, 0.456299, 0.539634, 1.000000, 1.250211, 1.288590, 1.330739, 1.392402, 2.000000, 2.286333, 2.336624, 2.393510, 2.476070, 3.000000, 3.250278, 3.288177, 3.324939, 3.376327, 4.000000, 4.305345, 4.368319, 4.433397, 4.516526, 5.000000, 5.266119, 5.321434, 5.373234, 5.433140, 6.000000, 6.280782, 6.338435, 6.403914, 6.498329, 7.000000]
#binsWmnCR   = [0.000000, 0.320032, 0.401097, 0.470601, 0.563121, 1.000000, 1.253361, 1.293377, 1.334708, 1.393191, 2.000000, 2.285741, 2.341458, 2.401448, 2.489143, 3.000000, 3.255454, 3.292936, 3.328626, 3.379495, 4.000000, 4.307977, 4.372367, 4.438978, 4.529638, 5.000000, 5.284401, 5.354529, 5.419183, 5.493033, 6.000000, 6.286293, 6.343155, 6.407766, 6.504460, 7.000000]

# 1 bin per CR
#binsWenCR   = [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0]
#binsWmnCR   = [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0]


# V1
#binsCR      = <!Multi_medhigh_Wln|bins!>[:-15]
#binsSR      = <!Multi_medhigh_Wln|bins!>[-16:]
#binsWmnSR   = [7.0, 7.2719, 7.316, 7.3654, 7.4229, 7.4874, 7.5636, 7.6354, 7.7009, 7.7624, 7.8067, 7.8412, 7.8763, 7.904, 7.9279, 8.01]
#binsWenSR   = [7.0, 7.274, 7.3211, 7.3682, 7.4252, 7.493, 7.564, 7.6337, 7.6986, 7.7523, 7.7992, 7.8363, 7.8682, 7.8924, 7.913, 8.01]

# V2
binsWmnCR      = <!Multi_medhigh_Wmn|bins!>[:-15]
binsWmnSR      = <!Multi_medhigh_Wmn|bins!>[-16:]
binsWenCR      = <!Multi_medhigh_Wen|bins!>[:-15]
binsWenSR      = <!Multi_medhigh_Wen|bins!>[-16:]

;;!! --------------------------------------
;;!! Datacards specific setup
;;!! --------------------------------------

;;List here the lnN sys in use
[Datacard]

produceTextFiles = False

#!! -------------------------
#!! Limit definitions
#!! -------------------------

;======================
;For SF fit (CR+SF)
;======================
#Signals     = ['ZH_Znunu','ZH_Zll','WminusH','WplusH','ggZH_Zll','ggZH_Znunu']

# STXS
Signals     = <!STXS|Signals!> 

#For now QCD has to be excluded from the allBKG before producing datacards!
Backgrounds = <!Plot_general|allBKG!>

# VV analysis
VV_Signals     = <!Plot_general|VVSIG!> 
VV_Backgrounds = <!Plot_general|VVBKG!>

;;;;;;;;;;;;;;
;VH datacards
;;;;;;;;;;;;;;

#----- tt -----#
[dc:ttbar_med_Wen]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|eData!>
type       = cr

[dc:ttbar_med_Wmn]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|muData!>
type       = cr

#----- Whf --------#
[dc:Whf_med_Wen]
rebin_method = list
rebin_list   = <!Whf_medhigh_Wln|bins!> 
var          = <!Whf_medhigh_Wln|branchName!>.Nominal 
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Whf_med_Wmn]
rebin_method = list
rebin_list   = <!Whf_medhigh_Wln|bins!> 
var          = <!Whf_medhigh_Wln|branchName!>.Nominal 
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

#----- Wlf -----#
[dc:Wlf_med_Wen]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|eData!>
type       = cr

[dc:Wlf_med_Wmn]
var        = 1 
range      = 1,0,2
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|muData!>
type       = cr

#----- Signal -----#
[dc:SR_med_Wen]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!>
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:SR_med_Wmn]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!> 
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

#----- tt -----#
[dc:ttbar_high_Wen]
var       = 1 
range     = 1,0,2 
signal    = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data      = <!Plot_general|eData!>
type      = cr

[dc:ttbar_high_Wmn]
var       = 1 
range     = 1,0,2 
signal    = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data      = <!Plot_general|muData!>
type      = cr

#----- Whf --------#
[dc:Whf_high_Wen]
rebin_method = list
rebin_list   = <!Whf_medhigh_Wln|bins!> 
var          = <!Whf_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Whf_high_Wmn]
rebin_method = list
rebin_list   = <!Whf_medhigh_Wln|bins!> 
var          = <!Whf_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

#----- Wlf -----#
[dc:Wlf_high_Wen]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|eData!>
type       = cr

[dc:Wlf_high_Wmn]
var        = 1 
range      = 1,0,2
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|muData!>
type       = cr

#----- Signal -----#
[dc:SR_high_Wen]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!>
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:SR_high_Wmn]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!> 
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

# medhigh

#----- tt -----#
[dc:ttbar_medhigh_Wen]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|eData!>
type       = cr

[dc:ttbar_medhigh_Wmn]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|muData!>
type       = cr

#----- Whf --------#
[dc:Whf_medhigh_Wen]
rebin_method = list
rebin_list   = <!Whf_medhigh_Wln|bins!> 
var          = <!Whf_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Whf_medhigh_Wmn]
rebin_method = list
rebin_list   = <!Whf_medhigh_Wln|bins!> 
var          = <!Whf_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

#----- VV Whf --------#
[dc:VV_Whf_medhigh_Wen]
rebin_method = list
rebin_list   = <!VV_Whf_medhigh_Wln|bins!> 
var          = <!VV_Whf_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|VV_Signals!>
background   = <!Datacard|VV_Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:VV_Whf_medhigh_Wmn]
rebin_method = list
rebin_list   = <!VV_Whf_medhigh_Wln|bins!> 
var          = <!VV_Whf_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|VV_Signals!>
background   = <!Datacard|VV_Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

#----- Wlf -----#
[dc:Wlf_medhigh_Wen]
var        = 1 
range      = 1,0,2 
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|eData!>
type       = cr

[dc:Wlf_medhigh_Wmn]
var        = 1 
range      = 1,0,2
signal     = <!Datacard|Signals!>
background = <!Datacard|Backgrounds!>
data       = <!Plot_general|muData!>
type       = cr

#----- Signal -----#
[dc:SR_medhigh_Wen]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!> 
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:SR_medhigh_Wmn]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!> 
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:SR_medhigh_Wln]
rebin_method = list
rebin_list   = <!SR_medhigh_Wln|bins!> 
var          = <!SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|Data!>
type         = BDT


# ---------- VV ----------
[dc:VV_SR_medhigh_Wen]
rebin_method = list
rebin_list   = <!VV_SR_medhigh_Wln|bins!> 
var          = <!VV_SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|VV_Signals!>
background   = <!Datacard|VV_Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:VV_SR_medhigh_Wmn]
rebin_method = list
rebin_list   = <!VV_SR_medhigh_Wln|bins!> 
var          = <!VV_SR_medhigh_Wln|branchName!>.Nominal
signal       = <!Datacard|VV_Signals!>
background   = <!Datacard|VV_Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

# Mjj
[dc:Mjj_SR_medhigh_Wen_0]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wen_1]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wen_2]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wen_3]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wmn_0]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wmn_1]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wmn_2]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Mjj_SR_medhigh_Wmn_3]
var          = <!LimitGeneral|Mass!> 
range        = 12,90.0,150.0
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT


# multi-class datacards

[dc:Multi_medhigh_Wen_SIG]
cut          = Multi_medhigh_Wen
rebin_method = list
rebin_list   = <!Multi|binsWenSR!> 
var          = <!Multi|Wen!> 
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_medhigh_Wmn_SIG]
cut          = Multi_medhigh_Wmn
rebin_method = list
rebin_list   = <!Multi|binsWmnSR!> 
var          = <!Multi|Wmn!> 
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_medhigh_Wen_BKG]
cut          = Multi_medhigh_Wen
rebin_method = list
rebin_list   = <!Multi|binsWenCR!> 
var          = <!Multi|Wen!> 
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_medhigh_Wmn_BKG]
cut          = Multi_medhigh_Wmn
rebin_method = list
rebin_list   = <!Multi|binsWmnCR!> 
var          = <!Multi|Wmn!>
signal       = <!Datacard|Signals!>
background   = <!Datacard|Backgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[WJetsToLNu_HT-200To400_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize=1
[WJetsToLNu_HT-400To600_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize=1
[WJetsToLNu_HT-600To800_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize=1
[WJetsToLNu_HT-800To1200_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize=1
[WJetsToLNu_HT-1200To2500_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize=1
[WJetsToLNu_HT-2500ToInf_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize=1

